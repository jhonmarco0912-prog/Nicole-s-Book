<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Nicole's Book</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Lora:ital,wght@0,400;0,500;0,600;1,400&display=swap" rel="stylesheet">
    <style>
        :root {
            /* --- LIGHT MODE --- */
            --bg-body: #FAFAFA;
            --bg-gradient: linear-gradient(135deg, #FFF0F5 0%, #E6E6FA 100%);
            --surface: #FFFFFF;
            --surface-glass: rgba(255, 255, 255, 0.95);
            --primary: #E91E63; /* Deep Pink */
            --primary-soft: #FCE4EC; /* Light Pink Background */
            --text-main: #2D2D2D;
            --text-sub: #757575;
            --border: #F0F0F0;
            --shadow: 0 10px 40px rgba(0,0,0,0.08);
            --shadow-card: 0 20px 60px rgba(233, 30, 99, 0.15);
            
            /* UI Accents */
            --accent-pink: #FF4081;
            --accent-dot-active: #E91E63;
            --accent-dot-inactive: #E0E0E0;
        }

        [data-theme="dark"] {
            /* --- DARK MODE --- */
            --bg-body: #121212;
            --bg-gradient: linear-gradient(135deg, #1A1A1A 0%, #0F0F0F 100%);
            --surface: #1E1E1E;
            --surface-glass: rgba(30, 30, 30, 0.95);
            --primary: #FF80AB;
            --primary-soft: #2D1F25;
            --text-main: #FFFFFF;
            --text-sub: #A0A0A0;
            --border: #333333;
            --shadow: 0 10px 40px rgba(0,0,0,0.5);
            --shadow-card: 0 20px 60px rgba(0,0,0,0.4);
            
            --accent-pink: #FF80AB;
            --accent-dot-active: #FF80AB;
            --accent-dot-inactive: #444444;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Plus Jakarta Sans', sans-serif; -webkit-tap-highlight-color: transparent; transition: background-color 0.3s, color 0.3s; }
        
        body { background: var(--bg-gradient); min-height: 100vh; overflow-x: hidden; color: var(--text-main); }

        /* --- UTILS --- */
        .hidden { display: none !important; }
        .fade-out { animation: fadeOut 0.4s forwards; }
        .fade-in { animation: fadeIn 0.6s forwards; }
        .slide-in-right { animation: slideInRight 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
        
        @keyframes fadeOut { to { opacity: 0; transform: scale(0.95); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideInRight { from { opacity: 0; transform: translateX(30px); } to { opacity: 1; transform: translateX(0); } }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-10px); } 75% { transform: translateX(10px); } }
        .shake { animation: shake 0.3s ease-in-out; border-color: #ff4d4d !important; }

        /* --- 1. LOGIN SCREEN --- */
        #login-view {
            position: fixed; inset: 0; z-index: 999;
            display: flex; align-items: center; justify-content: center;
            padding: 20px;
            backdrop-filter: blur(15px);
            background: rgba(255,255,255,0.2);
        }

        .login-card {
            background: var(--surface);
            padding: 40px 30px;
            border-radius: 30px;
            width: 100%; max-width: 380px;
            box-shadow: var(--shadow);
            text-align: center;
            border: 1px solid var(--border);
        }

        .logo-circle {
            width: 70px; height: 70px; background: var(--primary-soft);
            border-radius: 50%; margin: 0 auto 20px;
            display: flex; align-items: center; justify-content: center;
            color: var(--primary); 
        }
        .logo-circle svg { width: 35px; height: 35px; stroke-width: 2; }

        .login-title { font-size: 24px; font-weight: 800; margin-bottom: 8px; color: var(--text-main); }
        .login-subtitle { color: var(--text-sub); font-size: 14px; margin-bottom: 30px; }

        .styled-input {
            width: 100%; padding: 16px 20px; margin-bottom: 15px;
            border-radius: 12px; border: 1px solid var(--border);
            background: var(--bg-body); font-size: 15px;
            color: var(--text-main); outline: none;
        }
        .styled-input:focus { border-color: var(--primary); background: var(--surface); }

        .btn-primary {
            width: 100%; padding: 16px;
            background: var(--primary); color: white;
            border: none; border-radius: 50px;
            font-size: 16px; font-weight: 600;
            cursor: pointer; box-shadow: 0 8px 20px rgba(233, 30, 99, 0.3);
            transition: transform 0.2s; margin-top: 10px;
        }
        .btn-primary:active { transform: scale(0.96); }

        /* --- 2. MAIN APP --- */
        #app-view { min-height: 100vh; display: none; padding-bottom: 40px; }
        
        .app-nav {
            background: var(--surface-glass); backdrop-filter: blur(20px);
            padding: 15px 20px; display: flex; justify-content: space-between; align-items: center;
            position: sticky; top: 0; z-index: 50; border-bottom: 1px solid var(--border);
        }
        .nav-btn { background: none; border: none; padding: 8px; border-radius: 50%; cursor: pointer; color: var(--text-main); display: flex; }
        
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        
        .hero-section { text-align: left; margin: 20px 0 30px; }
        .hero-title { font-size: 28px; font-weight: 800; margin-bottom: 5px; }
        .hero-sub { color: var(--text-sub); font-size: 15px; }

        .search-bar {
            background: var(--surface); border-radius: 16px; padding: 14px 20px; 
            display: flex; align-items: center; gap: 12px;
            box-shadow: var(--shadow); margin-bottom: 25px;
            border: 1px solid var(--border);
        }
        .search-bar input { border: none; width: 100%; font-size: 16px; outline: none; background: transparent; color: var(--text-main); }

        /* List Cards */
        .card {
            background: var(--surface); border-radius: 20px; padding: 20px; margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.03); cursor: pointer; transition: 0.2s; 
            border: 1px solid var(--border); display: flex; align-items: center; gap: 15px;
        }
        .card:active { transform: scale(0.98); }
        .list-icon { 
            width: 50px; height: 50px; border-radius: 15px; 
            background: var(--primary-soft); color: var(--primary);
            display: flex; align-items: center; justify-content: center;
        }
        .list-info { flex: 1; }
        .list-title { font-weight: 700; font-size: 16px; margin-bottom: 4px; }
        .list-preview { font-size: 13px; color: var(--text-sub); }

        /* --- 3. READER VIEW (Redesigned) --- */
        #reader-view {
            position: fixed; inset: 0; background: var(--bg-body); z-index: 2000;
            transform: translateX(100%); transition: transform 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
            display: flex; flex-direction: column;
        }
        #reader-view.open { transform: translateX(0); }

        /* Reader Header */
        .reader-header {
            padding: 15px 20px; display: flex; justify-content: space-between; align-items: center;
            background: var(--bg-body);
        }
        .header-title-small { font-size: 14px; font-weight: 600; color: var(--text-main); }
        .header-btn { background: none; border: none; cursor: pointer; color: var(--text-main); padding: 8px; }

        /* Reader Content Area */
        .reader-scroll-area {
            flex: 1; overflow-y: auto; padding: 10px 20px 30px;
            display: flex; align-items: center; justify-content: center;
        }

        .letter-card-display {
            background: var(--surface);
            border-radius: 30px;
            padding: 40px 30px;
            width: 100%; max-width: 450px;
            box-shadow: var(--shadow-card);
            text-align: center;
            position: relative;
            border: 1px solid var(--border);
        }

        /* The Big Icon */
        .card-icon-large {
            width: 80px; height: 80px;
            background: var(--primary-soft);
            color: var(--primary);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            margin: 0 auto 25px;
            box-shadow: 0 10px 20px rgba(233, 30, 99, 0.1);
        }
        .card-icon-large svg { width: 40px; height: 40px; stroke-width: 2; }

        .letter-tag {
            display: inline-block;
            background: var(--primary-soft);
            color: var(--primary);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 12px; font-weight: 700;
            margin-bottom: 20px;
        }

        .letter-title-large {
            font-size: 22px; font-weight: 800; margin-bottom: 20px;
            line-height: 1.3; color: var(--text-main);
        }

        .letter-body-text {
            font-family: 'Lora', serif; /* Serif font for the letter content */
            font-size: 17px;
            line-height: 1.8;
            color: var(--text-sub);
            margin-bottom: 30px;
        }

        .letter-divider {
            height: 1px; background: var(--border);
            margin: 20px 0; width: 100%;
        }

        .letter-footer {
            font-size: 14px; color: var(--text-sub); display: flex; align-items: center; justify-content: center; gap: 5px;
        }

        /* Bottom Controls */
        .reader-controls {
            padding: 20px 30px 40px;
            display: flex; align-items: center; justify-content: space-between;
            background: var(--bg-body);
        }

        .control-btn {
            background: var(--surface);
            border: 1px solid var(--border);
            color: var(--text-main);
            padding: 12px 24px;
            border-radius: 12px;
            font-weight: 600; font-size: 14px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            display: flex; align-items: center; gap: 8px;
            min-width: 100px; justify-content: center;
        }
        .control-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .control-btn:active { transform: scale(0.96); }

        .pagination-dots { display: flex; gap: 8px; }
        .dot { width: 8px; height: 8px; border-radius: 50%; background: var(--accent-dot-inactive); transition: 0.3s; }
        .dot.active { background: var(--accent-dot-active); transform: scale(1.2); }

    </style>
</head>
<body>

    <div id="login-view">
        <div class="login-card">
            <div class="logo-circle">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
            </div>
            <h2 class="login-title">Welcome Back</h2>
            <p class="login-subtitle">Sign in to read your letters</p>

            <form onsubmit="app.login(event)">
                <input type="text" id="username" class="styled-input" placeholder="Username">
                <input type="password" id="password" class="styled-input" placeholder="Password">
                <button type="submit" class="btn-primary">Sign In</button>
            </form>
            <br>
            <p style="font-size: 12px; color: #999;">or</p>
            <br>
            <button class="btn-primary" style="background: transparent; border: 1px solid var(--border); color: var(--text-sub); box-shadow: none;">Create a new account</button>
        </div>
    </div>

    <div id="app-view">
        <nav class="app-nav">
            <span style="font-weight: 700; font-size: 18px;">Nicole's Book</span>
            <button class="nav-btn" onclick="app.logout()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
            </button>
        </nav>

        <main class="container">
            <div class="hero-section">
                <h1 class="hero-title">Your Letters</h1>
                <p class="hero-sub">Every memory, kept safe for you.</p>
            </div>

            <div class="search-bar">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                <input type="text" placeholder="Search..." oninput="app.filter(this.value)">
            </div>

            <div id="card-list">
                </div>
        </main>
    </div>

    <div id="reader-view">
        <div class="reader-header">
            <button class="header-btn" onclick="app.closeReader()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
            </button>
            <span id="header-counter" class="header-title-small">Letter #1 of 5</span>
            <button class="header-btn" onclick="app.toggleTheme()">
                <span id="theme-icon">🌙</span>
            </button>
        </div>

        <div class="reader-scroll-area">
            <div id="reader-card-content" class="letter-card-display">
                <div class="card-icon-large" id="r-icon"></div>
                <div class="letter-tag" id="r-tag">Letter #1</div>
                <h2 class="letter-title-large" id="r-title">Title Here</h2>
                <div class="letter-body-text" id="r-body">
                    Body content...
                </div>
                <div class="letter-divider"></div>
                <div class="letter-footer">
                    Made with <span style="color:var(--accent-pink)">❤</span> for you
                </div>
            </div>
        </div>

        <div class="reader-controls">
            <button class="control-btn" id="btn-prev" onclick="app.prevLetter()">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"></polyline></svg>
                Prev
            </button>
            
            <div class="pagination-dots" id="dots-container">
                </div>

            <button class="control-btn" id="btn-next" onclick="app.nextLetter()">
                Next
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg>
            </button>
        </div>
    </div>

    <script>
        // --- CREDENTIALS ---
        const CREDENTIALS = {
            username: "Nicole Ganda",
            password: "Ang Ganda Ko Talaga"
        };

        // --- ICONS ---
        const icons = {
            gift: `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path></svg>`,
            cloud: `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path></svg>`,
            heart: `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>`,
            sun: `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>`,
            moon: `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>`
        };

        // --- DATA ---
        const letters = [
            { id: 1, icon: 'gift', title: "When You First Receive This", content: "Hello baby! Happy Birthday! \n\nI hope you like your gift. It's not that good but I tried my best to make this website just for you. \n\nI wanted to create something that lasts longer than paper. Something you can keep in your pocket and open whenever you need a reminder of how much you are loved." },
            { id: 2, icon: 'cloud', title: "When You Feel Sad", content: "It's okay to have bad days. \n\nJust remember that storms don't last forever. I am here to hold the umbrella for you until the sun comes out again. \n\nTake a deep breath. You are stronger than you think." },
            { id: 3, icon: 'heart', title: "Why I Love You", content: "There are a million reasons, but here are a few: \n\n1. Your laugh is my favorite sound.\n2. You care so deeply for others.\n3. You never give up.\n\nYou make my world brighter just by being in it." },
            { id: 4, icon: 'sun', title: "Good Morning", content: "Good morning sunshine! \n\nI hope you slept well. Go drink some water, stretch a little, and conquer the day. I believe in you!" },
            { id: 5, icon: 'moon', title: "Good Night", content: "Good night my love. \n\nRest your head and let go of today's worries. I'll see you in my dreams." }
        ];

        // --- LOGIC ---
        const app = {
            currentIndex: 0,
            
            init() {
                // Theme Check
                if (localStorage.getItem('theme') === 'dark') {
                    document.body.setAttribute('data-theme', 'dark');
                    document.getElementById('theme-icon').innerText = '☀️';
                }
                
                // Login Check
                if (sessionStorage.getItem('isLoggedIn') === 'true') {
                    this.showApp();
                }
            },

            login(e) {
                e.preventDefault();
                const u = document.getElementById('username').value;
                const p = document.getElementById('password').value;
                const form = document.querySelector('.login-card');

                if (u === CREDENTIALS.username && p === CREDENTIALS.password) {
                    sessionStorage.setItem('isLoggedIn', 'true');
                    this.showApp();
                } else {
                    form.classList.add('shake');
                    setTimeout(() => form.classList.remove('shake'), 300);
                    alert("Incorrect credentials!");
                }
            },

            logout() {
                sessionStorage.removeItem('isLoggedIn');
                location.reload();
            },

            showApp() {
                document.getElementById('login-view').classList.add('fade-out');
                setTimeout(() => {
                    document.getElementById('login-view').classList.add('hidden');
                    document.getElementById('app-view').style.display = 'block';
                    document.getElementById('app-view').classList.add('fade-in');
                    this.renderList(letters);
                }, 400);
            },

            renderList(data) {
                const list = document.getElementById('card-list');
                list.innerHTML = '';
                data.forEach((item, index) => {
                    const card = document.createElement('div');
                    card.className = 'card fade-in';
                    card.style.animationDelay = `${index * 0.05}s`;
                    card.onclick = () => this.openReader(index);
                    card.innerHTML = `
                        <div class="list-icon">${icons[item.icon]}</div>
                        <div class="list-info">
                            <div class="list-title">${item.title}</div>
                            <div class="list-preview">${item.content.substring(0, 50)}...</div>
                        </div>
                    `;
                    list.appendChild(card);
                });
            },

            filter(val) {
                const filtered = letters.filter(l => l.title.toLowerCase().includes(val.toLowerCase()));
                this.renderList(filtered);
            },

            // --- READER FUNCTIONS ---
            openReader(index) {
                this.currentIndex = index;
                this.updateReaderUI();
                document.getElementById('reader-view').classList.add('open');
            },

            closeReader() {
                document.getElementById('reader-view').classList.remove('open');
            },

            updateReaderUI() {
                const item = letters[this.currentIndex];
                const card = document.getElementById('reader-card-content');
                
                // Content Animation
                card.classList.remove('slide-in-right');
                void card.offsetWidth; // trigger reflow
                card.classList.add('slide-in-right');

                // Update Text
                document.getElementById('header-counter').innerText = `Letter #${this.currentIndex + 1} of ${letters.length}`;
                document.getElementById('r-icon').innerHTML = icons[item.icon];
                document.getElementById('r-tag').innerText = `Letter #${item.id}`;
                document.getElementById('r-title').innerText = item.title;
                document.getElementById('r-body').innerText = item.content;

                // Update Buttons
                document.getElementById('btn-prev').disabled = this.currentIndex === 0;
                document.getElementById('btn-next').disabled = this.currentIndex === letters.length - 1;

                // Update Dots
                const dots = document.getElementById('dots-container');
                dots.innerHTML = '';
                // Only show 5 dots max for UI cleanliness
                letters.forEach((_, idx) => {
                    if (idx < 5) { 
                        const dot = document.createElement('div');
                        dot.className = `dot ${idx === this.currentIndex ? 'active' : ''}`;
                        dots.appendChild(dot);
                    }
                });
            },

            nextLetter() {
                if (this.currentIndex < letters.length - 1) {
                    this.currentIndex++;
                    this.updateReaderUI();
                }
            },

            prevLetter() {
                if (this.currentIndex > 0) {
                    this.currentIndex--;
                    this.updateReaderUI();
                }
            },

            toggleTheme() {
                const isDark = document.body.getAttribute('data-theme') === 'dark';
                if (isDark) {
                    document.body.removeAttribute('data-theme');
                    document.getElementById('theme-icon').innerText = '🌙';
                    localStorage.setItem('theme', 'light');
                } else {
                    document.body.setAttribute('data-theme', 'dark');
                    document.getElementById('theme-icon').innerText = '☀️';
                    localStorage.setItem('theme', 'dark');
                }
            }
        };

        app.init();
    </script>
</body>
</html>
